<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Hello.Sometimes when we want to create an application we want to use plugins and not reinvent the wheel, in the case of showing information through tables there’s a very cool plugin (open source, very">
<meta name="keywords" content="ASP.NET Core,JQuery,DataTables">
<meta property="og:type" content="article">
<meta property="og:title" content="ASP.NET Core - Using JQuery DataTables">
<meta property="og:url" content="http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/index.html">
<meta property="og:site_name" content="Code Rocks!">
<meta property="og:description" content="Hello.Sometimes when we want to create an application we want to use plugins and not reinvent the wheel, in the case of showing information through tables there’s a very cool plugin (open source, very">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_1.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_2.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_3.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_4.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_5.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_6.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_7.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_8.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_9.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_10.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_11.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_12.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_13.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_14.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_15.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_16.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_17.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_18.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_19.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_20.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_21.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_22.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_23.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_24.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_25.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_26.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_27.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_28.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_29.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_30.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_31.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_32.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_33.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_34.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_35.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_36.png">
<meta property="og:image" content="http://coderocks.co/content/images/2017/1/p1_20171_37.png">
<meta property="og:updated_time" content="2017-04-08T18:37:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ASP.NET Core - Using JQuery DataTables">
<meta name="twitter:description" content="Hello.Sometimes when we want to create an application we want to use plugins and not reinvent the wheel, in the case of showing information through tables there’s a very cool plugin (open source, very">
<meta name="twitter:image" content="http://coderocks.co/content/images/2017/1/p1_20171_1.png">
    
    
        
          <link rel="shortcut icon" href="/images/strat-favicon.ico">
        
        
          <link rel="icon" type="image/png" href="/images/strat-favicon-192x192.png" sizes="192x192">
        
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/strat-apple-touch-icon.png">
        
    
    <!-- title -->
    <title>ASP.NET Core - Using JQuery DataTables</title>
    <!-- styles -->
    <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/lib/meslo-LG/styles.css">
    <link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
    <!-- jquery -->
    <script src="/lib/jquery/jquery.min.js"></script>
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/blogroll/">BlogRoll</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/12/26/aspnetCore2-Using-JQuery-DataTables-Filtering/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$("#i-prev").toggle();" onmouseout="$("#i-prev").toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2016/12/17/aspnetCore-DAL-and-Entities-from-existing-DB-using-EFCore-1-1/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$("#i-next").toggle();" onmouseout="$("#i-next").toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$("#i-top").toggle();" onmouseout="$("#i-top").toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$("#i-share").toggle();" onmouseout="$("#i-share").toggle();" onclick="$("#share").toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&text=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&is_video=false&description=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ASP.NET Core - Using JQuery DataTables&body=Check out this article: http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&name=ASP.NET Core - Using JQuery DataTables&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-and-Configuring-DataTatables"><span class="toc-number">1.</span> <span class="toc-text">Adding and Configuring DataTatables</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dependencies-for-DataTables"><span class="toc-number">1.1.</span> <span class="toc-text">Dependencies for DataTables</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Server-Side-API-to-return-data"><span class="toc-number">2.</span> <span class="toc-text">Server Side - API to return data</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-Api"><span class="toc-number">2.1.</span> <span class="toc-text">Creating Api</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Returning-Data-from-the-Api"><span class="toc-number">2.2.</span> <span class="toc-text">Returning Data from the Api</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#under-the-hood-form-data"><span class="toc-number">2.3.</span> <span class="toc-text">under the hood - form data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#In-the-Api-Paging-Ordering-information"><span class="toc-number">2.4.</span> <span class="toc-text">In the Api - Paging, Ordering information</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bonus"><span class="toc-number">3.</span> <span class="toc-text">Bonus:</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        ASP.NET Core - Using JQuery DataTables
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Code Rocks!</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-01-11T00:00:23.000Z" itemprop="datePublished">2017-01-10</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/ASP-NET-Core/">ASP.NET Core</a>, <a class="tag-link" href="/tags/DataTables/">DataTables</a>, <a class="tag-link" href="/tags/JQuery/">JQuery</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>Hello.<br>Sometimes when we want to create an application we want to use plugins and not reinvent the wheel, in the case of showing information through tables there’s a very cool plugin (open source, very flexible and extensive), called <a href="https://datatables.net/" target="_blank" rel="noopener">DataTables</a> (jquery plugin). We are going to create an asp.net core web application, then we create an api which is going to request information from a collection (like a database).</p>
<p>The DataTables site has a detailed and useful documentation, there’s a <a href="https://datatables.net/manual/server-side" target="_blank" rel="noopener">section</a> related to getting information “server-side” in case you want to go deeper after reading this post. </p>
<p><img src="/content/images/2017/1/p1_20171_1.png" alt="ajax reques to server" title="ajax request to server"><br>In Server side approach we make an ajax request to the server and receive information using jquery.</p>
<p>Let’s start…<br>First we are going to create an asp.net core application. Create a <strong>blank solution</strong>, then create a <strong>new project</strong></p>
<p><img src="/content/images/2017/1/p1_20171_2.png" alt="new project in blank solution" title="new project in blank solution"></p>
<p>Choose <strong>.net core</strong> category, select <strong>asp.net core web application</strong> and give a name</p>
<p><img src="/content/images/2017/1/p1_20171_3.png" alt="ASP.Net Core Web Application" title="ASP.Net Core Web Application"></p>
<p>We select the <strong>Web Application</strong> Template<br><img src="/content/images/2017/1/p1_20171_4.png" alt="Web Application Template" title="Web Application Template"></p>
<h2 id="Adding-and-Configuring-DataTatables"><a href="#Adding-and-Configuring-DataTatables" class="headerlink" title="Adding and Configuring DataTatables"></a>Adding and Configuring DataTatables</h2><p>Now we are going to install datatables. The only library dependency is JQuery (using this web template we already have it)<br><img src="/content/images/2017/1/p1_20171_5.png" alt="JQuery" title="JQuery"></p>
<h3 id="Dependencies-for-DataTables"><a href="#Dependencies-for-DataTables" class="headerlink" title="Dependencies for DataTables"></a>Dependencies for DataTables</h3><p>There is a css library, it’s optional, it gives us a default styling. <strong>DataTables</strong> library is very flexible and we can use any other styling framework (like foundation, bootstrap, material, etc, check <a href="https://datatables.net/examples/styling/" target="_blank" rel="noopener">here</a>), we are going to use the default way.<br>Let’s add some sections in the <strong>layout</strong> view to add required files.<br>I could add directly the libraries in layout but in this case I want to show you the other way, so we are going to create two sections (styles and scripts) to add the css file and js file in the view to be more specific when loading the libraries.</p>
<p>Inside <strong>head</strong> tag add<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@RenderSection(“styles”, required: <span class="literal">false</span>)</span><br></pre></td></tr></table></figure></p>
<p><img src="/content/images/2017/1/p1_20171_6.png" alt="Section styles" title="Section styles"></p>
<p>At the end of <strong>body</strong> tag add<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@RenderSection(“scripts”, required : <span class="literal">false</span>)</span><br></pre></td></tr></table></figure></p>
<p><img src="/content/images/2017/1/p1_20171_7.png" alt="Section scripts" title="Section scripts"></p>
<p>We are going to navigate through <strong>Home/Index</strong> view and remove some auto-generated code.<br>Let’s remove all of this code<br><img src="/content/images/2017/1/p1_20171_8.png" alt="home/index view" title="home/index view"></p>
<p>We are going to have something like this in <strong>Home/Index</strong> view (or whichever order you want to have)<br><img src="/content/images/2017/1/p1_20171_9.png" alt="home/index view structure" title="home/index structure"></p>
<p>Let’s add a reference to the datatable style<br><img src="/content/images/2017/1/p1_20171_10.png" alt="Reference in style section" title="Reference in style section"></p>
<p>The very basic table structure (<a href="https://datatables.net/manual/installation" target="_blank" rel="noopener">installation</a>) we need is something like this one<br><img src="/content/images/2017/1/p1_20171_11.png" alt="sample basic html DataTable" title="sample basic html DataTable"></p>
<p>In the js side<br><img src="/content/images/2017/1/p1_20171_12.png" alt="sample js code to load DataTable" title="sample js code to load DataTable"><br>So as you see the table id is very important.</p>
<p>Let’s add the table structure<br><img src="/content/images/2017/1/p1_20171_13.png" alt="html DataTable" title="html DataTable"></p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">"row"</span>&gt;</span><br><span class="line">    &lt;div <span class="keyword">class</span>=<span class="string">"col-md-12"</span>&gt;</span><br><span class="line">        &lt;div <span class="keyword">class</span>=<span class="string">"panel panel-primary"</span>&gt;</span><br><span class="line">            &lt;div <span class="keyword">class</span>=<span class="string">"panel-heading"</span>&gt;</span><br><span class="line">                &lt;h3 <span class="keyword">class</span>=<span class="string">"panel-title"</span>&gt;Items&lt;/h3&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div <span class="keyword">class</span>=<span class="string">"panel-body"</span>&gt;</span><br><span class="line">                &lt;table id=<span class="string">"ItemsTable"</span> <span class="keyword">class</span>=<span class="string">"table table-striped table-bordered table-hover responsive"</span> width=<span class="string">"100%"</span>&gt;</span><br><span class="line">                    &lt;thead <span class="keyword">class</span>=<span class="string">"thin-border-bottom"</span>&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;th&gt;Item Id&lt;/th&gt;</span><br><span class="line">                            &lt;th&gt;Name&lt;/th&gt;</span><br><span class="line">                            &lt;th&gt;Description&lt;/th&gt;</span><br><span class="line">                            &lt;th&gt;&lt;/th&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                    &lt;/thead&gt;</span><br><span class="line">                &lt;/table&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>So as you see our table is <strong>ItemsTable</strong> and has 3 columns. Now we need to add the js code in <strong>scripts</strong> section.<br><img src="/content/images/2017/1/p1_20171_14.png" alt="js code for DataTable" title="js code for DataTable"></p>
<p>Let’s see what we’ve got<br><img src="/content/images/2017/1/p1_20171_15.png" alt="js code for DataTable" title="js code for DataTable"></p>
<ol>
<li>Reference to the DataTable library, in this example case I set a reference to DataTable CDN.</li>
<li>Through ajax call with a POST request to /api/items we are going to request information (if we are <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener">RESTful</a> strict, we should use GET Method to <strong>get</strong> information not POST but I prefer this way to avoid limitations related to form data through the query string, so up to you if you want to use GET).</li>
<li>In columns we bind the information we want to display so the result from the ajax call should return at least that data (records with itemId, name, description), if you see columns is an array, it contains an object of each column, also you can add a function inside each column in case you want to add more logic (in future post we’ll see it).</li>
<li>We can specify to sort and page the information we want to display, in that way we will see page buttons and sort icons on each row header.</li>
</ol>
<p>If you run the app, we’ll only see this<br><img src="/content/images/2017/1/p1_20171_16.png" alt="running the app no data in DataTable" title="running the app no data in DataTable"></p>
<h2 id="Server-Side-API-to-return-data"><a href="#Server-Side-API-to-return-data" class="headerlink" title="Server Side - API to return data"></a>Server Side - API to return data</h2><h3 id="Creating-Api"><a href="#Creating-Api" class="headerlink" title="Creating Api"></a>Creating Api</h3><p>Let’s add some code to see results in the table. Add a new controller inside an api folder (or whichever the folder you want).<br><img src="/content/images/2017/1/p1_20171_17.png" alt="new controller in api folder" title="new controller in api folder"></p>
<p><img src="/content/images/2017/1/p1_20171_18.png" alt="items controller" title="items controller"></p>
<p>We are going to use <strong>post</strong> method so let’s remove the auto-generated code.<br>In the <strong>post</strong> method we are going to return a custom result so we’re going to change void to <a href="https://docs.microsoft.com/en-us/aspnet/core/api/microsoft.aspnetcore.mvc.iactionresult" target="_blank" rel="noopener"><strong>IActionResult</strong></a> and return an OK</p>
<p>Initial version<br><img src="/content/images/2017/1/p1_20171_19.png" alt="post method in controller" title="post method in controller"><br>After changes<br><img src="/content/images/2017/1/p1_20171_20.png" alt="post method in controller" title="post method in controller"></p>
<p>Let’s add a model class named <strong>Item</strong> in Models folder<br><img src="/content/images/2017/1/p1_20171_21.png" alt="add new class" title="add new class"></p>
<p>Add 3 properties<br><img src="/content/images/2017/1/p1_20171_22.png" alt="add properties to class" title="add properties to class"></p>
<h3 id="Returning-Data-from-the-Api"><a href="#Returning-Data-from-the-Api" class="headerlink" title="Returning Data from the Api"></a>Returning Data from the Api</h3><p>Let’s go back to <strong>ItemsController.cs</strong> to create a private method to return data (to ease the post we’re not going to do the DB plumbing, in a different post we can work that part).</p>
<p>Let’s create a GetData private method like this one<br><img src="/content/images/2017/1/p1_20171_23.png" alt="GetData method" title="GetData method"></p>
<p>We are going to return a structure like this </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"draw"</span>:<span class="number">1</span>,</span><br><span class="line">  <span class="string">"recordsTotal"</span>:<span class="number">2</span>,</span><br><span class="line">  <span class="string">"recordsFiltered"</span>:<span class="number">2</span>,</span><br><span class="line">  <span class="string">"data"</span>:[</span><br><span class="line">    [ <span class="number">1010</span>,<span class="string">"RYban 12300"</span>,<span class="string">"Polarized sunglasses"</span>],</span><br><span class="line">    [ <span class="number">1011</span>,<span class="string">"HDMI Cable"</span>,<span class="string">"Basic hdmi cable 3 feet"</span>]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In DataTables documentation you’ll see the required structure (<a href="https://datatables.net/examples/data_sources/server_side" target="_blank" rel="noopener">server side documentation - data source</a> and <a href="https://www.datatables.net/manual/server-side" target="_blank" rel="noopener">server side documentation</a>)<br><img src="/content/images/2017/1/p1_20171_24.png" alt="json structure to return to the client" title="json structure to return to the client"></p>
<p>In our code let’s call the data and return a proper json result<br><img src="/content/images/2017/1/p1_20171_25.png" alt="return json from Api post method" title="return json from Api post method"></p>
<p>If we run the application we’ll see data in our table<br><img src="/content/images/2017/1/p1_20171_26.png" alt="DataTable shows data" title="DataTable shows data"></p>
<p>If we consume the API directly (using any api client like postman) we’ll see the json structure<br><img src="/content/images/2017/1/p1_20171_27.png" alt="consuming api from postman" title="consuming api from postman"></p>
<p>If we click on any button page we will get a kind of never ending <strong>“Processing”</strong><br><img src="/content/images/2017/1/p1_20171_28.png" alt="processing issue" title="processing issue"><br>Which means we have to add more code to make a proper pagination from the server side</p>
<h3 id="under-the-hood-form-data"><a href="#under-the-hood-form-data" class="headerlink" title="under the hood - form data"></a>under the hood - form data</h3><p>If we use the dev tools from the browser, in the network section we’ll see the json request.<br>Click on the request “items/api” at the left column.<br><img src="/content/images/2017/1/p1_20171_29.png" alt="dev tools - form data" title="dev tools - form data"></p>
<p>In <strong>Headers/Form Data</strong> (form data is the information we sent from client to server in the request process) for each column there is information that could help us to paginate our result from the data source</p>
<p><strong>Start :</strong> from where it starts to paginate.<br><strong>Length:</strong> number of records per page (we get this one from <strong>show entries</strong> dropdownlist).<br><strong>order[0][column]:</strong> order column index.<br><strong>order[0][dir]:</strong> ascending or descending order to show the information.<br><strong>colum[?][data]:</strong> name of the column of the data returned by the server.<br><strong>search[value]:</strong> value to search in the collection (we get this one from <strong>search</strong> field).</p>
<p>When the request occurs, as a client we send data (client side), we are going to get <strong>Form</strong> data (server side), it has information of the columns, pagination and ordering, all related to the Datatable.</p>
<h3 id="In-the-Api-Paging-Ordering-information"><a href="#In-the-Api-Paging-Ordering-information" class="headerlink" title="In the Api - Paging, Ordering information"></a>In the Api - Paging, Ordering information</h3><p>Let’s go to <strong>ItemsController.cs</strong> to add more code<br><img src="/content/images/2017/1/p1_20171_30.png" alt="post method in controller" title="post method in controller"><br>We get all the form data.</p>
<p>Then we create a method to get the information about ordering and pagination (<strong>requestFormData</strong>) and query over the information in this case using linq in a collection (<strong>lstElements</strong>)<br><img src="/content/images/2017/1/p1_20171_31.png" alt="post method in controller" title="post method in controller"></p>
<p>Private method<br><img src="/content/images/2017/1/p1_20171_32.png" alt="ProcessCollection method" title="ProcessCollection method"></p>
<p><img src="/content/images/2017/1/p1_20171_33.png" alt="GetProperty method" title="GetProperty method"><br>Get property helps us to get a property object model related to a particular column name.</p>
<p>Going back to the Post method now we can have a processed collection (paginated and ordered)<br><img src="/content/images/2017/1/p1_20171_34.png" alt="post method in controller" title="post method in controller"></p>
<p>Now in the custom response in <strong>Data</strong> we are sending the processed collection. In <strong>Draw</strong> (number of times the datatable plugin has generated the table) we send the value from the form data. In <strong>RecordsFiltered</strong> and <strong>RecordsTotal</strong> we are sending the total items from initial collection.</p>
<p>If we run the application we’ll see it working<br><img src="/content/images/2017/1/p1_20171_35.png" alt="DataTable works" title="DataTable works"></p>
<p>Pagination works<br><img src="/content/images/2017/1/p1_20171_36.png" alt="DataTable pagination works" title="DataTable pagination works"></p>
<p>Ordering works<br><img src="/content/images/2017/1/p1_20171_37.png" alt="DataTable ordering works" title="DataTable ordering works"></p>
<p>You can download the source code from the <a href="https://github.com/skn0/aspnetCoreJQueryDataTables" target="_blank" rel="noopener">repository</a>.</p>
<p>In a future post we are going to filter using the <strong>search</strong> field.</p>
<h2 id="Bonus"><a href="#Bonus" class="headerlink" title="Bonus:"></a>Bonus:</h2><p>From the Guitar Hero Hendrix, a better version than the original (Bob Dylan, song author, endorse it).<br><a href="https://play.spotify.com/track/2aoo2jlRnM3A0NyLQqMN2f" target="_blank" rel="noopener">Jimi Hendrix -  All Along The Watchtower</a></p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/blogroll/">BlogRoll</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Adding-and-Configuring-DataTatables"><span class="toc-number">1.</span> <span class="toc-text">Adding and Configuring DataTatables</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Dependencies-for-DataTables"><span class="toc-number">1.1.</span> <span class="toc-text">Dependencies for DataTables</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Server-Side-API-to-return-data"><span class="toc-number">2.</span> <span class="toc-text">Server Side - API to return data</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-Api"><span class="toc-number">2.1.</span> <span class="toc-text">Creating Api</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Returning-Data-from-the-Api"><span class="toc-number">2.2.</span> <span class="toc-text">Returning Data from the Api</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#under-the-hood-form-data"><span class="toc-number">2.3.</span> <span class="toc-text">under the hood - form data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#In-the-Api-Paging-Ordering-information"><span class="toc-number">2.4.</span> <span class="toc-text">In the Api - Paging, Ordering information</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bonus"><span class="toc-number">3.</span> <span class="toc-text">Bonus:</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&text=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&is_video=false&description=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ASP.NET Core - Using JQuery DataTables&body=Check out this article: http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&title=ASP.NET Core - Using JQuery DataTables"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://coderocks.co/2017/01/10/aspnetCore-Using-JQuery-DataTables/&name=ASP.NET Core - Using JQuery DataTables&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$("#toc-footer").toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$("#share-footer").toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$("#nav-footer").toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 Code Rocks!
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/blogroll/">BlogRoll</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    <script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-88773065-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'http-coderocks-co';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


</body>
</html>
